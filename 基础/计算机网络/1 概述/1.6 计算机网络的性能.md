# 1.6 计算机网络的性能


## 1.6.1 性能指标
### 1） 速率
* 计算机数据量单位：比特，代表0或者1
* 计算机网络中，速率指的是主机在数字信道上的==传送数据的速率==。也称为**数据率**或**比特率**。
* 当数据率较高时，就可以用kb/s（k = 10的3 =千）、Mb/s（M = 10的6 =兆）、Gb/s（G = 10的9 = 吉）或Tb/s（T = 10的12 = 太）①。现在人们常用更简单
* 此处的兆，吉，太都是千进制。有时候如果以字节来统计，就是2的10次方了。。
### 2）带宽
* 以往**电话信号**中传递的是**模拟电信号**，类似声音的组成，每秒能震动多少次，即300-3.4K Hz。电路用电流频率代替声音震动频率，**通道线路**单位体积能通过的模拟信号量范围称为**带宽**（通频带）
* **计算机网络**中，带宽表示单位时间某一点到另一点通过的“**最高数据率**（只有0和1而没有其他信号）” b/s（比特每秒）

【异同】带宽”的两种表述中，前者为==频域称谓==，而后者为==时域称谓==，其本质是相同的。也就是说，一条通信链路的“带宽”越宽，其所能传输的“最高数据率”也越高

### 3）吞吐量：
* **吞吐量**表示单位时间，通过某个网络（信道或者接口）的数据量。
* 吞吐量受网络的**带宽或网络的额定速率**的限制。例如，对于一个100Mb/s的以太网，其额定速率是100Mb/s，那么这个数值也是该以太网吞吐量的绝对上限值。因此，对于100Mb/s的以太网，其典型的==吞吐量可能只有==70Mb/s。请注意，有时吞吐量还可用每秒传送的字节数或帧数来表示。

### 4） 时延：
 表示数据（**报文**或者**分组**甚至**比特**），从网络的一端传送到另一端的时间。
 * 发送时延【车队收费站发车耗时】：**主机或者路由器**发送**数据帧**所需时间，从第一个比特开始计算，到最后一比特发送完成所需的时间。
![发送时延]($resource/%E5%8F%91%E9%80%81%E6%97%B6%E5%BB%B6.png)
 * 传播时延【车队高速路耗时】：**电磁波**在信道中传播一定距离需要的时间
![传播时延迟]($resource/%E4%BC%A0%E6%92%AD%E6%97%B6%E5%BB%B6%E8%BF%9F.png)
    * 自由空间的传播速率是光速，即3.0×105km/s。电磁波在网络传输媒体中的传播速率比在自由空间要略低一些：在铜线电缆中的传播速率约为2.3×105km/s，在光纤中的传播速率约为2.0×105km/s。例如，1000km长的光纤线路产生的传播时延大约为5ms。
* 处理时延：主机或者路由器收到分组花费的**处理时间**，如【首部提取，分组提取，差错校验，路由选择等】。
* 排队时延：分组经过网络传输，需要有许多路由器。
  * 但分组在进入路由器后要先在**输入队列**中排队等待处理。在路由器确定了转发接口后，还要在**输出队列**中排队等待转发。这就产生了排队时延。排队时延的长短往往取决于网络当时的通信量。当网络的通信量很大时会发生队列溢出，使**分组丢失**，这相当于排队时延为无穷大。

![时延]($resource/%E6%97%B6%E5%BB%B6.png)

【计算】忽略小处理时长的时延
![时延计算]($resource/%E6%97%B6%E5%BB%B6%E8%AE%A1%E7%AE%97.png)
### 时延带宽积
* 把以上讨论的两个度量：时延和带宽相乘，就可以得出一个**链路圆柱管道**的性能指标
![时延带宽积]($resource/%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD%E7%A7%AF.png)

时延带宽积又称为以比特为单位的链路长度。
![图示时延带宽]($resource/%E5%9B%BE%E7%A4%BA%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD.png)
### 往返时间RTT(Round-Trip Time)
* 从数据发送方发送开始，经历各种时延，直至**收到接收方的确认**，经历的时间总和。
* 上述例子的RTT时**40ms**，时延带宽积是RTT乘以带宽
* 在互联网中，往返时间还包括各中间结点的**处理时延**、**排队**时延以及**转发数据时的发送**时延
  * 往返时间与所发送的**分组长度**有关。发送很长的数据块的往返时间，应当比发送很短的数据块的往返时间要多些。往返时间带宽积的意义就是当发送方连续发送数据时，即使能够及时收到对方的确认，但已经**将许多比特发送到链路上**了。对于上述例子，假定数据的接收方及时发现了差错，并告知发送方，使发送方立即停止发送
### 利用率
* 利用率分**信道利用率**和**网络利用率**两种：前者代表某段相同介质信道有百分几时间是利用起来的（数据通过），后者是全网络信道加权平均值。
* 正如高速路拥堵一样，网络越拥塞，越需要排队，分组交换==延迟越高==。


## 1.6.2 非性能指标
### 费用
设计和实现的总费用需要考虑，一般网络速率越高，价格越贵
### 质量
性能好的可能质量差，但质量会影响**性能，可靠性，管理的便利性**。
### 标准化
网络硬件和软件可以依照通用**国际标准**或者**专用网络标**准制定，使用标准以于**技术替换**以及**技术支持**，也好**互操作**（提供服务和接收服务）
### 可靠性
可靠性于网络质量和性能有关，速率高的网络要可靠运行，成本越高。
### 可扩展性和升级性
网络构造时应该考虑未来的扩展（规模扩大）以及升级（性能提升）。网络性能越好，扩展成本越高。
### 易于管理和维护
网络如果没有良好管理和维护，无法保持设计当初的优越的性能。

